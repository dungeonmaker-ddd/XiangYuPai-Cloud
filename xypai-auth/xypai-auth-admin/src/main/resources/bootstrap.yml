# Tomcat
server:
  port: 8101

# Spring
spring:
  application:
    # 应用名称 - 管理端服务独立命名
    name: xypai-auth-admin
  profiles:
    # 环境配置
    active: dev
  cloud:
    nacos:
      discovery:
        # 服务注册地址 - 外部化配置
        server-addr: ${NACOS_ADDR:127.0.0.1:8848}
        # 用户名 - 外部化配置
        username: ${NACOS_USERNAME:nacos}
        # 密码 - 外部化配置
        password: ${NACOS_PASSWORD:nacos}
        # 服务实例元数据
        metadata:
          version: 4.0.0
          service-type: business
          client-support: admin
      config:
        # 配置中心地址 - 外部化配置
        server-addr: ${NACOS_ADDR:127.0.0.1:8848}
        # 配置文件格式
        file-extension: yml
        # 用户名 - 外部化配置
        username: ${NACOS_USERNAME:nacos}
        # 密码 - 外部化配置
        password: ${NACOS_PASSWORD:nacos}
        # 共享配置
        shared-configs:
          - application-${spring.profiles.active}.${spring.cloud.nacos.config.file-extension}

# 管理端认证配置
auth:
  admin:
    # 管理员令牌过期时间（秒），默认1小时（更严格）
    token-expire-time: 3600
    # 最大会话数限制
    max-session-count: 1
    # IP白名单检查
    ip-whitelist-enabled: true
    # 密码复杂度要求
    password-complexity:
      min-length: 8
      require-uppercase: true
      require-number: true
      require-special-char: true
  audit:
    # 审计日志配置
    enabled: true
    # 保留天数
    retention-days: 90

# 监控配置
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always
      probes:
        enabled: true
  health:
    livenessstate:
      enabled: true
    readinessstate:
      enabled: true

# Knife4j配置
knife4j:
  enable: true
  setting:
    language: zh_CN
    enable-version: true
    enable-host-text: 管理端服务
  production: false
  basic:
    enable: false

# SpringDoc配置
springdoc:
  api-docs:
    enabled: true
  swagger-ui:
    enabled: true

# 网关配置
gateway:
  host: localhost:8080