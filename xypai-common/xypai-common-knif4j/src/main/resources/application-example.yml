# =======================================================
# ğŸ”ª XyPai Knife4j ä½¿ç”¨ç¤ºä¾‹é…ç½®
# =======================================================
# åœ¨å…·ä½“çš„å¾®æœåŠ¡ä¸­ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹é…ç½®è¿›è¡Œè‡ªå®šä¹‰

swagger:
  # åŸºç¡€é…ç½®
  enabled: true
  title: "ç”¨æˆ·å¾®æœåŠ¡ API æ–‡æ¡£"
  description: "ç”¨æˆ·ç®¡ç†ã€è®¤è¯ã€æƒé™ç­‰ç›¸å…³æ¥å£"
  version: "3.6.6"
  
  # è”ç³»äººä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
  contact:
    name: "ç”¨æˆ·æ¨¡å—å¼€å‘å›¢é˜Ÿ"
    email: "user-team@xypai.com"
    url: "https://wiki.xypai.com/user-service"
  
  # æ‰«æé…ç½®
  base-packages:
    - "com.xypai.user.controller"
  
  # æ’é™¤æ•æ„Ÿè·¯å¾„
  exclude-paths:
    - "/actuator/**"
    - "/error"
    - "/api/v1/user/internal/**"
    - "/api/v1/user/admin/sensitive/**"
  
  # å¤šæ¨¡å—åˆ†ç»„
  groups:
    - name: "01-ç”¨æˆ·åŸºç¡€æ¥å£"
      base-package: "com.xypai.user.controller.app"
      paths-to-match: "/api/v1/user/**"
      exclude-paths:
        - "/api/v1/user/admin/**"

    - name: "02-ç”¨æˆ·ç®¡ç†æ¥å£"
      base-package: "com.xypai.user.controller.admin"
      paths-to-match: "/api/v1/user/admin/**"

    - name: "03-è®¤è¯æˆæƒæ¥å£"
      base-package: "com.xypai.user.controller.auth"
      paths-to-match: "/api/v1/auth/**"

    - name: "04-Feignå†…éƒ¨æ¥å£"
      base-package: "com.xypai.user.controller.feign"
      paths-to-match: "/api/feign/user/**"
  
  # JWT è®¤è¯é…ç½®
  authorization:
    type: "Bearer"
    name: "Authorization"
    description: "JWT è®¤è¯ä»¤ç‰Œï¼Œæ ¼å¼ï¼šBearer {token}"
    key-location: "header"
  
  # Knife4j å¢å¼ºé…ç½®
  knife4j:
    enable: true
    production: false
    
    # å¼€å‘ç¯å¢ƒå¯ä»¥å¯ç”¨ Basic è®¤è¯ä¿æŠ¤
    basic:
      enable: true
      username: "xypai"
      password: "dev2025"
    
    # ç•Œé¢è‡ªå®šä¹‰
    setting:
      enable-dynamic-parameter: true
      enable-debug: true
      enable-search: true
      enable-footer-custom: true
      footer-custom-content: "Â© 2025 XyPai ç”¨æˆ·å¾®æœåŠ¡ - å†…éƒ¨å¼€å‘ç‰ˆæœ¬"
      enable-home-custom: true
      home-custom-path: "/doc.html"

# =======================================================
# ğŸŒ ä¸åŒç¯å¢ƒé…ç½®ç¤ºä¾‹
# =======================================================

---
# å¼€å‘ç¯å¢ƒ
spring:
  config:
    activate:
      on-profile: dev

swagger:
  enabled: true
  knife4j:
    production: false
    basic:
      enable: false  # å¼€å‘ç¯å¢ƒå¯ä»¥ä¸å¯ç”¨è®¤è¯

logging:
  level:
    com.xypai.common.swagger: DEBUG

---
# æµ‹è¯•ç¯å¢ƒ
spring:
  config:
    activate:
      on-profile: test

swagger:
  enabled: true
  knife4j:
    production: false
    basic:
      enable: true
      username: "test"
      password: "test123"

---
# é¢„ç”Ÿäº§ç¯å¢ƒ
spring:
  config:
    activate:
      on-profile: pre

swagger:
  enabled: true
  knife4j:
    production: true
    basic:
      enable: true
      username: "admin"
      password: "${SWAGGER_PASSWORD:admin123}"

---
# ç”Ÿäº§ç¯å¢ƒ
spring:
  config:
    activate:
      on-profile: prod

swagger:
  enabled: false  # ç”Ÿäº§ç¯å¢ƒå®Œå…¨ç¦ç”¨
  knife4j:
    production: true
