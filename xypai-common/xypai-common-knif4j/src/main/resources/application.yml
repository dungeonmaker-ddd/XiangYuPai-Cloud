# =======================================================
# ğŸ”ª XyPai Knife4j å…¨å±€é…ç½®æ¨¡æ¿
# =======================================================

swagger:
  # æ˜¯å¦å¯ç”¨ Swagger æ–‡æ¡£
  enabled: true
  
  # API åŸºæœ¬ä¿¡æ¯
  title: "XyPai å¾®æœåŠ¡æ¥å£æ–‡æ¡£"
  description: "åŸºäº Spring Boot 3.x + Knife4j çš„ä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„ API æ–‡æ¡£"
  version: "3.6.6"
  terms-of-service-url: "https://www.xypai.com/terms"
  license: "Apache License 2.0"
  license-url: "https://www.apache.org/licenses/LICENSE-2.0"
  
  # è”ç³»äººä¿¡æ¯
  contact:
    name: "XyPai Team"
    email: "support@xypai.com"
    url: "https://www.xypai.com"
  
  # æ‰«æé…ç½®
  base-packages:
    - "com.xypai"
  
  # æ’é™¤è·¯å¾„
  exclude-paths:
    - "/actuator/**"
    - "/error"
    - "/favicon.ico"
  
  # åˆ†ç»„é…ç½®ç¤ºä¾‹
  groups:
    - name: "02-ç”¨æˆ·æ¨¡å—"
      base-package: "com.xypai.user"
      paths-to-match: "/api/v1/user/**"
      exclude-paths:
        - "/api/v1/user/internal/**"

    - name: "03-ç³»ç»Ÿæ¨¡å—"
      base-package: "com.xypai.system"
      paths-to-match: "/api/v1/system/**"

    - name: "04-æ–‡ä»¶æ¨¡å—"
      base-package: "com.xypai.file"
      paths-to-match: "/api/v1/file/**"
  
  # JWT è®¤è¯é…ç½®
  authorization:
    type: "Bearer"
    name: "Authorization"
    description: "JWT è®¤è¯ä»¤ç‰Œï¼Œæ ¼å¼ï¼šBearer {token}"
    key-location: "header"
  
  # Knife4j å¢å¼ºé…ç½®
  knife4j:
    # æ˜¯å¦å¯ç”¨ Knife4j å¢å¼º
    enable: true
    
    # ç”Ÿäº§ç¯å¢ƒå±è”½ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®è®¾ç½®ä¸º trueï¼‰
    production: false
    
    # Basic è®¤è¯ï¼ˆå¯é€‰ï¼‰
    basic:
      enable: false
      username: "admin"
      password: "123456"
    
    # è‡ªå®šä¹‰è®¾ç½®
    setting:
      # å¯ç”¨åŠ¨æ€å‚æ•°
      enable-dynamic-parameter: true
      # å¯ç”¨è°ƒè¯•
      enable-debug: true
      # å¯ç”¨æœç´¢
      enable-search: true
      # å¯ç”¨ Footer
      enable-footer: false
      # è‡ªå®šä¹‰ Footer
      enable-footer-custom: true
      footer-custom-content: "Copyright Â© 2025 XyPai. All rights reserved."
      # è‡ªå®šä¹‰ä¸»é¡µ
      enable-home-custom: true
      home-custom-path: "/doc.html"

# =======================================================
# ğŸš€ SpringDoc OpenAPI 3 é…ç½®
# =======================================================

springdoc:
  # API æ–‡æ¡£è·¯å¾„
  api-docs:
    enabled: true
    path: /v3/api-docs
  
  # Swagger UI é…ç½®
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
    # æŒä¹…åŒ–è®¤è¯
    persist-authorization: true
    # æ˜¾ç¤ºè¯·æ±‚æ—¶é•¿
    display-request-duration: true
    # æ˜¾ç¤ºæ“ä½œ ID
    display-operation-id: true
    # é»˜è®¤å±•å¼€æ·±åº¦
    default-models-expand-depth: 1
    default-model-expand-depth: 1
  
  # æ˜¾ç¤º Spring Boot Actuator ç«¯ç‚¹
  show-actuator: false
  
  # è·¯å¾„åŒ¹é…
  paths-to-match:
    - /api/**
  
  # åŒ…æ‰«æ
  packages-to-scan:
    - com.xypai

# =======================================================
# ğŸ”§ Knife4j ç‰¹å®šé…ç½®
# =======================================================

knife4j:
  # å¯ç”¨å¢å¼ºåŠŸèƒ½
  enable: true
  
  # OpenAPI é…ç½®
  openapi:
    title: ${swagger.title}
    description: ${swagger.description}
    version: ${swagger.version}
    
    # è”ç³»äººä¿¡æ¯
    contact:
      name: ${swagger.contact.name}
      email: ${swagger.contact.email}
      url: ${swagger.contact.url}
    
    # è®¸å¯è¯
    license:
      name: ${swagger.license}
      url: ${swagger.license-url}
  
  # ç”Ÿäº§ç¯å¢ƒä¿æŠ¤
  production: ${swagger.knife4j.production}
  
  # Basic è®¤è¯
  basic:
    enable: ${swagger.knife4j.basic.enable}
    username: ${swagger.knife4j.basic.username}
    password: ${swagger.knife4j.basic.password}
  
  # è‡ªå®šä¹‰è®¾ç½®
  setting:
    language: zh-CN
    enable-version: false
    enable-reload-cache-parameter: false
    enable-after-script: true
    enable-filter-multipart-api-method-type: POST
    enable-filter-multipart-apis: false
    enable-request-cache: true
    enable-host: false
    enable-home-custom: ${swagger.knife4j.setting.enable-home-custom}
    home-custom-location: ${swagger.knife4j.setting.home-custom-path}
