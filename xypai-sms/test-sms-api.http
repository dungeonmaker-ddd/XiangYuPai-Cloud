### XyPai SMS 微服务 API 测试

# ================================
# 📋 模板管理 API 测试
# ================================

### 1. 创建短信模板
POST http://localhost:9107/api/v1/sms/templates
Content-Type: application/json

{
  "templateCode": "USER_REGISTER_VERIFY",
  "templateName": "用户注册验证码",
  "content": "您的注册验证码是{code}，请在{minutes}分钟内输入。【XyPai】",
  "templateType": "VERIFICATION",
  "supportedChannels": [
    "ALIYUN",
    "TENCENT"
  ],
  "parameterConfig": {
    "code": "验证码",
    "minutes": "有效时间"
  }
}

### 2. 获取模板列表
GET http://localhost:9107/api/v1/sms/templates?page=1&size=10&templateType=VERIFICATION&status=PENDING

### 3. 获取模板详情
GET http://localhost:9107/api/v1/sms/templates/USER_REGISTER_VERIFY

### 4. 审核通过模板
POST http://localhost:9107/api/v1/sms/templates/USER_REGISTER_VERIFY/approve?auditComment=模板内容符合规范，审核通过&
    operator=admin

### 5. 审核拒绝模板
POST http://localhost:9107/api/v1/sms/templates/USER_REGISTER_VERIFY/reject?
    auditComment=模板内容包含敏感词汇，请修改后重新提交&operator=admin

# ================================
# 📱 短信发送 API 测试
# ================================

### 6. 发送短信
POST http://localhost:9107/api/v1/sms/send
Content-Type: application/json

{
  "templateCode": "USER_REGISTER_VERIFY",
  "phoneNumbers": [
    "13800138000",
    "13900139000"
  ],
  "templateParams": {
    "code": "123456",
    "minutes": "5"
  },
  "channelType": "ALIYUN",
  "businessTag": "用户注册"
}

### 7. 批量发送短信
POST http://localhost:9107/api/v1/sms/send/batch
Content-Type: application/json

{
  "templateCode": "USER_REGISTER_VERIFY",
  "phoneNumbers": [
    "13800138000",
    "13900139000",
    "13700137000"
  ],
  "templateParams": {
    "code": "654321",
    "minutes": "10"
  },
  "loadBalanceStrategy": "HASH",
  "businessTag": "批量注册通知"
}

### 8. 查询发送状态
GET http://localhost:9107/api/v1/sms/send/status/SMS_1735727400000_1

# ================================
# 📊 统计查询 API 测试
# ================================

### 9. 获取发送统计
GET http://localhost:9107/api/v1/sms/statistics/send?startDate=2025-01-01&endDate=2025-01-02&
    templateCode=USER_REGISTER_VERIFY

### 10. 获取渠道统计
GET http://localhost:9107/api/v1/sms/statistics/channel?date=2025-01-02

# ================================
# 🛠️ 系统管理 API 测试
# ================================

### 11. 健康检查
GET http://localhost:9107/actuator/health

### 12. 服务信息
GET http://localhost:9107/actuator/info

### 13. Swagger文档
GET http://localhost:9107/swagger-ui/index.html
