# ğŸ—ï¸ XYç›¸é‡æ´¾ç”¨æˆ·å¾®æœåŠ¡å¼•å¯¼é…ç½®
# Bootstrapé…ç½®åœ¨application.ymlä¹‹å‰åŠ è½½ï¼Œç”¨äºé…ç½®ä¸­å¿ƒç­‰åŸºç¡€è®¾æ–½

spring:
  application:
    name: users
  
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  
  cloud:
    nacos:
      # é…ç½®ä¸­å¿ƒè¿æ¥é…ç½®
      config:
        server-addr: ${NACOS_CONFIG_SERVER:127.0.0.1:8848}
        username: nacos
        password: nacos
        namespace: ${NACOS_CONFIG_NAMESPACE:public}
        group: ${NACOS_CONFIG_GROUP:DEFAULT_GROUP}
        file-extension: yml
        # å¯ç”¨é…ç½®åˆ·æ–°
        refresh-enabled: true
        # å…±äº«é…ç½®
        shared-configs:
          # é€šç”¨é…ç½®
          - data-id: application-common.yml
            group: DEFAULT_GROUP
            refresh: true
          # Redisé€šç”¨é…ç½®
          - data-id: xypai-common-redis.yml
            group: DEFAULT_GROUP
            refresh: true
          # å®‰å…¨é€šç”¨é…ç½®
          - data-id: xypai-common-security.yml
            group: DEFAULT_GROUP
            refresh: true
          # æ•°æ®åº“é€šç”¨é…ç½®
          - data-id: xypai-common-datasource.yml
            group: DEFAULT_GROUP
            refresh: true
        # æ‰©å±•é…ç½®
        extension-configs:
          # ç”¨æˆ·å¾®æœåŠ¡ä¸“ç”¨é…ç½®
          - data-id: users-${spring.profiles.active}.yml
            group: ${NACOS_CONFIG_GROUP:DEFAULT_GROUP}
            refresh: true
      
      # æœåŠ¡å‘ç°è¿æ¥é…ç½®
      discovery:
        server-addr: ${NACOS_DISCOVERY_SERVER:127.0.0.1:8848}
        username: nacos
        password: nacos
        namespace: ${NACOS_DISCOVERY_NAMESPACE:public}
        group: ${NACOS_DISCOVERY_GROUP:DEFAULT_GROUP}
        # æœåŠ¡æ³¨å†Œé…ç½®
        register-enabled: true
        # å®ä¾‹é…ç½®
        instance-enabled: true
        # å¿ƒè·³é…ç½®
        heart-beat-interval: 5000
        heart-beat-timeout: 15000
        # IPé…ç½®
        ip-delete-timeout: 30000
